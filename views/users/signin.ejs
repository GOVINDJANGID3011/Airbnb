<%- layout('./layouts/boilerplate.ejs') %>

<style>
    .password {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        position: relative;
    }
    .password i {
        cursor: pointer;
        position: absolute;
        right: 10px;
    }
    .password input {
        width: 100%;
        padding-right: 30px; /* room for icon */
    }
</style>

<body>
        <div class="row"></div>
            <div class="col-6 offset-3">
                <br>
                <h1>Sign up in wanderlust</h1>
                <form method="post" action="/signin" novalidate class="needs-validation">


                <label for="username" class="form-label">Username</label>
                <input name=username placeholder="write Username" type="text" class="form-control" required>
                <div class="invalid-feedback">Username is required</div>

                <label for="email" class="form-label">Email</label>
                <input type="email" placeholder="write email here" name=email  class="form-control" required></input>
                <div class="invalid-feedback">Email is required</div>

                <label for="password" class="form-label">Password</label>
                <div class="password">
                    <input name="password" id="password" placeholder="Enter password" type="password" class="form-control" required>
                    <i class="fa-regular fa-eye" id="togglePassword"></i>
                    <div class="invalid-feedback">Password is required</div>
                </div>
                
                <br>
                <button class="btn-success btn" >Sign In</button>
            </div>
            
        </div>
        
    </form>
</body>


<!-- logic implementation by javascript -->
 
<script>
    const eyeBtn = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');

    // Show password on press
    eyeBtn.addEventListener('mousedown', () => {
        passwordInput.type = 'text';
        eyeBtn.classList.remove('fa-eye');
        eyeBtn.classList.add('fa-eye-slash');
    });

    // Hide password on release
    eyeBtn.addEventListener('mouseup', () => {
        passwordInput.type = 'password';
        eyeBtn.classList.remove('fa-eye-slash');
        eyeBtn.classList.add('fa-eye');
    });

    // Also hide on mouse leave (in case user drags away)
    eyeBtn.addEventListener('mouseleave', () => {
        passwordInput.type = 'password';
        eyeBtn.classList.remove('fa-eye-slash');
        eyeBtn.classList.add('fa-eye');
    });
</script>